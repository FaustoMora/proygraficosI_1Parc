<html>
	<head>
		<title> Graficos por Computadora </title>
		<style> canvas {
					width: 100%;
					height: 100%;
				} </style>
				
	</head>
	<body>
		<script src="js/libs/three.min.js"> </script>
		<script src="js/libs/dat.gui.js"></script>
		<script src="lib.js"></script>
		<script>	
		
		 /// comentarioooo
			var scene = new THREE.Scene();
			
			var camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
			
			var renderer = new THREE.WebGLRenderer();
			//render
			renderer.setClearColorHex(0xEEEEEE);
			renderer.setSize(window.innerWidth, window.innerHeight);
			document.body.appendChild(renderer.domElement);
			renderer.shadowMapEnabled = true;
			//plano
			var planeGeom = new THREE.PlaneGeometry(60, 60, 1, 1);
			var planeMat = new THREE.MeshLambertMaterial({color: 0xFFFFFF});
			var plane =new THREE.Mesh(planeGeom , planeMat);
			plane.receiveShadow = true;
			plane.rotation.x=-0.5*Math.PI;
			plane.position.x=15
			plane.position.y=0
			plane.position.z=0
			scene.add(plane);
			
			//Crear un cubo de dimension 4x4x4 y agregarlo en el plano en la posicion (30,3,-15)
			var cubeGeom = new THREE.CubeGeometry(4, 4, 4);
			var cubeMat = new THREE.MeshLambertMaterial({color: 0xFF0000});
			var cube = new THREE.Mesh(cubeGeom, cubeMat);
			cube.castShadow = true;
			cube.position.x=30;
			cube.position.y=3;
			cube.position.z=-15;
			
			scene.add(cube);
			
			//Crear una esfera de radio=4 y segmentos horizontales/verticales=20
			//Se agrego la esfera en el plano en la posicion (20,0,2)
			var sphereGeom = new THREE.SphereGeometry(4, 20, 20);
			var sphereMat = new THREE.MeshLambertMaterial({color: 0x0000ff});
			var sphere = new THREE.Mesh(sphereGeom, sphereMat);
			sphere.castShadow = true;
			sphere.position.x=20;
			sphere.position.y=0;
			sphere.position.z=2;
			scene.add(sphere);
			
			//Se utilizo CylinderGeometry para armar la piramide utilizando sus 5 parametros, ya que una piramide es un subtipo de un cilindro.
			//Se creo un cilindro con radio superior en 0 para darle la forma de cono, radio inferior 5 y altura 10.
			//Numero de caras o segmentos = 4, para darle las cuatro caras caracteristicas de una piramide, y el ultimo parametro en 0 para crear la
			//cara inferior.
			//Se posiciono la piramide en (-15,5,-30) en el plano.
			var pyrGeom = new THREE.CylinderGeometry( 0, 5, 10, 4, 0);
			var pyrMat = new THREE.MeshLambertMaterial({color: 0x00ff00});
			var pyr = new THREE.Mesh(pyrGeom, pyrMat);
			pyr.castShadow = true;
			pyr.position.x=-15;
			pyr.position.y=5;
			pyr.position.z=-30;
			scene.add(pyr);
			
			//Se creo un toroide de radio 4, radio de tubo 2, 30 segmentos radiales y 50 segmentos del tubo.
			//Se posiciono el toroide en (7,5,20) en el plano con un factor de rotacion de 1/2(pi)
			var toroGeom = new THREE.TorusGeometry(4, 2, 30, 50);
			var toroMat = new THREE.MeshLambertMaterial({color: 0x00ffff});
			var toro = new THREE.Mesh(toroGeom, toroMat);
			toro.castShadow = true;
			toro.position.x=7;
			toro.position.y=5;
			toro.position.z=20;
			toro.rotation.x=0.5*Math.PI;
			scene.add(toro);
			
			//camara
			camera.position.x = -30;
			camera.position.y = 40;
			camera.position.z = 30;
			camera.lookAt(scene.position);
			
			//luces
			var ambientLight = new THREE.AmbientLight(0x0c0c0c);
			scene.add(ambientLight);
			
			var spotLight = new THREE.SpotLight(0xffffff);
			spotLight.position.set(-40, 60, -10);
			spotLight.castShadow = true;
			scene.add(spotLight);
			
			var step=0;
			
			//radius = sphereGeom.radius;
			var scale = 0; // adjust the multiplier to whatever
			
			//controles
			var controls = new function() {
				this.scaleCube = 0.5;
				this.sacalePyr = 0.5;
				this.scaleTor = 0.5;
				this.scaleSphe = 0.5;
				this.axisSelectCube = 1;
				this.axisSelectPyr = 1;
				this.axisSelectTor = 1;
				this.axisSelectSphe = 1;
				this.rotationSpeedCube = 0.02;
				this.rotationSpeedPyr = 0.02;
				this.rotationSpeedTor = 0.01;
				this.rotationSpeedSphe = 0.02;
			}

			var gui = new dat.GUI();
			
			//Se crearon carpetas para separar los controles de la esfera, cubo, piramide y toroide con el fin de mejorar la presentacion.
			var f1Sphere = gui.addFolder('Sphere');
			f1Sphere.add(controls, 'axisSelectSphe').options({'X Axis': 1, 'Y Axis': 2, 'Z Axis': 3});
			f1Sphere.add(controls, 'rotationSpeedSphe',0,0.5);
			f1Sphere.add(controls, 'scaleSphe',0.1,1);

			var f2Cube = gui.addFolder('Cube');
			f2Cube.add(controls, 'axisSelectCube').options({'X Axis': 1, 'Y Axis': 2, 'Z Axis': 3});
			f2Cube.add(controls, 'rotationSpeedCube',0,0.5);
			f2Cube.add(controls, 'scaleCube', 0.1,2);

			var f3Toro = gui.addFolder('Toroid');
			f3Toro.add(controls, 'axisSelectTor').options({'X Axis': 1, 'Y Axis': 2});
			f3Toro.add(controls, 'rotationSpeedTor',0,0.5);
			f3Toro.add(controls, 'scaleTor', 0.1,2);

			var f4Pyr = gui.addFolder('Pyramid');
			f4Pyr.add(controls, 'axisSelectPyr').options({'X Axis': 1, 'Y Axis': 2, 'Z Axis': 3});
			f4Pyr.add(controls, 'rotationSpeedPyr',0,0.5);
			f4Pyr.add(controls, 'sacalePyr', 0.1,1.5);
			
			//funcion render
			var render =function() {

				//////     funciones del cubo       ///////
				cube.position.y = 5;

				//rotacion del cubo
				if (controls.axisSelectCube == 1){
					cube.rotation.x += controls.rotationSpeedCube;
				} else if (controls.axisSelectCube == 2){
					cube.rotation.y += controls.rotationSpeedCube;
				} else if(controls.axisSelectCube == 3){
					cube.rotation.z += controls.rotationSpeedCube;
				}

				// escalamiento del cubo
				cube.scale.x = controls.scaleCube;
				cube.scale.y = controls.scaleCube;
				cube.scale.z = controls.scaleCube;


				/// end cubo 


				//////     funciones de la esfera       ///////

				//posicion de la esfera en el plano
				sphere.position.x = 25;
				sphere.position.z = 15;
				sphere.position.y = 10;

				// escalamiento de la esfera 
				sphere.scale.x = controls.scaleSphe;
				sphere.scale.y = controls.scaleSphe;
				sphere.scale.z = controls.scaleSphe;

				/// end esfera


				//////     funciones de la piramide       ///////
				
				//posicion de la piramide en el plano
				pyr.position.x = 5;
				pyr.position.z = 15;
				//pyr.position.y = 15;

				// escalamiento de la esfera 
				pyr.scale.x = controls.sacalePyr;
				pyr.scale.y = controls.sacalePyr;
				pyr.scale.z = controls.sacalePyr;

				// rotacion de la piramide
				if (controls.axisSelectPyr == 1){
					pyr.rotation.x += controls.rotationSpeedPyr;
				} else if (controls.axisSelectPyr == 2){
					pyr.rotation.y += controls.rotationSpeedPyr;
				} else if(controls.axisSelectPyr == 3){
					pyr.rotation.z += controls.rotationSpeedPyr;
				}


				/// end esfera


				//////     funciones del toroide       ///////
				
				//posicion del toroide en el plano
				toro.position.x = 0;
				toro.position.z = -15;
				toro.position.y = 4;

				// escalamiento del toroide 
				/*toro.scale.x = controls.sacaleTor;
				toro.scale.y = controls.sacaleTor;
				toro.scale.z = controls.sacaleTor;*/

				// rotacion del toroide
				if (controls.axisSelectTor == 1){
					toro.rotation.x += controls.rotationSpeedTor*Math.PI;
				} else if (controls.axisSelectTor == 2){
					toro.rotation.y += controls.rotationSpeedTor*Math.PI;
				} else if(controls.axisSelectTor == 3){
					toro.rotation.z += controls.rotationSpeedTor*Math.PI;
				}


				/// end toroide

				
				requestAnimationFrame(render);
				renderer.render(scene, camera);
			}
			
			render();
			
		</script>
	</body>
</html>